<div class="relative h-screen w-full overflow-hidden">
  <!-- Slider Container -->
  <div
    class="flex h-full transition-transform duration-500 ease-in-out"
    [style.transform]="'translateX(-' + currentIndex * 100 + '%)'"
    [style.width]="slides.length * 50 + '%'"
  >
    <!-- Each slide (pair of SVG pattern + image) -->
    <div
      *ngFor="let slide of slides; let i = index"
      class="flex h-full w-full shrink-0 flex-col lg:flex-row"
    >
      <!-- Left: SVG Pattern -->
      <div class="relative h-full w-full lg:w-1/2">
        <div
          [ngClass]="{ 'bg-blue-700': i === 1 }"
          class="absolute inset-0 opacity-10"
        >
          <svg
            width="100%"
            height="100%"
            xmlns="http://www.w3.org/2000/svg"
            class="text-white"
          >
            <defs>
              <pattern
                [id]="'hero-lung-pattern-' + i"
                x="0"
                y="0"
                width="250"
                height="250"
                patternUnits="userSpaceOnUse"
              >
                <g transform="scale(2)">
                  <path
                    [attr.d]="slide.svgPath"
                    stroke="currentColor"
                    fill="blue"
                    stroke-width="1.5"
                    stroke-linecap="round"
                  ></path>
                </g>
              </pattern>
            </defs>
            <rect
              width="100%"
              height="100%"
              [attr.fill]="'url(#hero-lung-pattern-' + i + ')'"
            ></rect>
          </svg>
        </div>

        <div
          *ngIf="i === 0"
          class="mx-auto flex items-center justify-center lg:gap-x-8 lg:px-8"
        >
          <div
            class="px-6 pt-4 pb-12 sm:pb-16 lg:col-span-7 lg:px-0 lg:pt-20 lg:pb-24 xl:col-span-6"
          >
            <div class="mx-auto max-w-lg lg:mx-0">
              <div class="hidden sm:mt-4 sm:flex lg:mt-6">
                <div
                  class="relative rounded-full bg-white/80 px-3 py-1.5 text-sm/6 text-gray-600 shadow-sm ring-1 ring-gray-900/10 backdrop-blur-sm hover:ring-gray-900/20"
                >
                  30-Day COPD Program
                  <a
                    href="#"
                    class="text-drcopd-blue hover:text-drcopd-navy font-semibold whitespace-nowrap transition-colors"
                    ><span class="absolute inset-0" aria-hidden="true"></span
                    >Start Now <span aria-hidden="true">→</span></a
                  >
                </div>
              </div>
              <h1
                class="text-drcopd-navy mt-10 font-serif text-4xl font-semibold tracking-tight text-pretty sm:mt-10 sm:text-4xl"
              >
                Breathe Easier in 30 Days – New COPD Solutions You Haven't Heard
                Of
              </h1>
              <p
                class="text-drcopd-gray mt-8 text-lg font-medium text-pretty sm:text-xl/8"
              >
                Discover breakthrough treatments and lifestyle changes that can
                dramatically improve your breathing. Our innovative approach
                combines traditional therapies with cutting-edge solutions.
              </p>
              <div class="mt-10 flex items-center gap-x-6">
                <a
                  href="#"
                  class="rounded-button transform-gpu border-2 border-blue-700 bg-blue-700 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-all duration-200 hover:scale-105 hover:bg-blue-800 hover:text-white hover:shadow-xl active:scale-95"
                  >Start Your 30-Day Journey</a
                >
                <a
                  href="#"
                  class="rounded-button transform-gpu border-2 border-blue-700 px-6 py-3 text-sm font-semibold text-blue-700 transition-all duration-200 hover:scale-105 hover:bg-blue-800 hover:text-white hover:shadow-xl active:scale-95"
                  >View New Solutions</a
                >
              </div>
            </div>
          </div>
        </div>

        <div
          *ngIf="i === 1"
          class="mx-auto flex items-center justify-center lg:gap-x-8 lg:px-8"
        >
          <div
            class="px-6 pt-4 pb-12 sm:pb-16 lg:col-span-7 lg:px-0 lg:pt-20 lg:pb-24 xl:col-span-6"
          >
            <div class="mx-auto max-w-lg lg:mx-0">
              <div class="hidden sm:mt-4 sm:flex lg:mt-6">
                <div
                  class="relative rounded-full bg-white/80 px-3 py-1.5 text-sm/6 text-gray-600 shadow-sm ring-1 ring-gray-900/10 backdrop-blur-sm hover:ring-gray-900/20"
                >
                  Free Treatment Assessment
                  <a
                    href="#"
                    class="text-drcopd-blue hover:text-drcopd-navy font-semibold whitespace-nowrap transition-colors"
                    ><span class="absolute inset-0" aria-hidden="true"></span
                    >Get Started <span aria-hidden="true">→</span></a
                  >
                </div>
              </div>
              <h1
                class="text-drcopd-navy mt-10 font-serif text-4xl font-semibold tracking-tight text-pretty sm:mt-10 sm:text-4xl"
              >
                Why Your COPD Treatment Isn't Working
              </h1>
              <p
                class="text-drcopd-gray mt-8 text-lg font-medium text-pretty sm:text-xl/8"
              >
                Frustrated with your current treatment? Discover the hidden
                factors affecting your COPD management and learn how to optimize
                your treatment plan for better results.
              </p>
              <div class="mt-10 flex items-center gap-x-6">
                <a
                  href="#"
                  class="rounded-button transform-gpu border-2 border-blue-700 bg-blue-700 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-all duration-200 hover:scale-105 hover:bg-blue-800 hover:text-white hover:shadow-xl active:scale-95"
                  >Get Your Free Assessment</a
                >
                <a
                  href="#"
                  class="rounded-button transform-gpu border-2 border-blue-700 px-6 py-3 text-sm font-semibold text-blue-700 transition-all duration-200 hover:scale-105 hover:bg-blue-800 hover:text-white hover:shadow-xl active:scale-95"
                  >Optimize Your Treatment</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Image -->
      <div class="h-full w-full lg:w-1/2">
        <img
          [src]="slide.image"
          class="h-full w-full object-cover"
          [alt]="'Slide ' + (i + 1)"
        />
      </div>
    </div>
  </div>
</div>

<button
  (click)="prevImage()"
  class="bg-opacity-30 absolute top-1/2 left-0 z-10 -translate-y-1/2 transform bg-black px-4 py-2 text-2xl text-white"
>
  ❮
</button>
<button
  (click)="nextImage()"
  class="bg-opacity-30 absolute top-1/2 right-0 z-10 -translate-y-1/2 transform bg-black px-4 py-2 text-2xl text-white"
>
  ❯
</button>
